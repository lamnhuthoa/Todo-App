{"ast":null,"code":"import { createServer, Model } from 'miragejs';\nexport const setupServer = () => {\n  let server = createServer({\n    models: {\n      todos: Model\n    },\n\n    routes() {\n      this.get(\"/api/todos\", schema => {\n        return schema.todos.all();\n      });\n      this.post(\"/api/todos\", (schema, request) => {\n        const payload = JSON.parse(request.requestBody);\n        return schema.todos.create(payload);\n      });\n      this.post(\"/api/updateTodo\", (schema, request) => {\n        const id = JSON.parse(request.requestBody);\n        const currentTodo = schema.todos.find(id);\n        currentTodo.update({\n          completed: !currentTodo.completed\n        });\n      });\n    }\n\n  });\n  return server;\n};","map":{"version":3,"names":["createServer","Model","setupServer","server","models","todos","routes","get","schema","all","post","request","payload","JSON","parse","requestBody","create","id","currentTodo","find","update","completed"],"sources":["C:/Users/Admin/Desktop/todo-app/src/fakeApi/index.js"],"sourcesContent":["import { createServer, Model } from 'miragejs';\r\n\r\nexport const setupServer = () => {\r\n    let server = createServer({\r\n        models: {\r\n            todos: Model\r\n        },\r\n        routes() {\r\n            this.get(\"/api/todos\", (schema) => {\r\n                return schema.todos.all();\r\n            })\r\n\r\n            this.post(\"/api/todos\", (schema, request) => {\r\n                const payload = JSON.parse(request.requestBody);\r\n                return schema.todos.create(payload);\r\n            })\r\n\r\n            this.post(\"/api/updateTodo\", (schema, request) => {\r\n                const id = JSON.parse(request.requestBody);\r\n                const currentTodo = schema.todos.find(id);\r\n                currentTodo.update({completed: !currentTodo.completed});\r\n            })\r\n        }\r\n    });\r\n    return server;\r\n};\r\n\r\n"],"mappings":"AAAA,SAASA,YAAT,EAAuBC,KAAvB,QAAoC,UAApC;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAM;EAC7B,IAAIC,MAAM,GAAGH,YAAY,CAAC;IACtBI,MAAM,EAAE;MACJC,KAAK,EAAEJ;IADH,CADc;;IAItBK,MAAM,GAAG;MACL,KAAKC,GAAL,CAAS,YAAT,EAAwBC,MAAD,IAAY;QAC/B,OAAOA,MAAM,CAACH,KAAP,CAAaI,GAAb,EAAP;MACH,CAFD;MAIA,KAAKC,IAAL,CAAU,YAAV,EAAwB,CAACF,MAAD,EAASG,OAAT,KAAqB;QACzC,MAAMC,OAAO,GAAGC,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,WAAnB,CAAhB;QACA,OAAOP,MAAM,CAACH,KAAP,CAAaW,MAAb,CAAoBJ,OAApB,CAAP;MACH,CAHD;MAKA,KAAKF,IAAL,CAAU,iBAAV,EAA6B,CAACF,MAAD,EAASG,OAAT,KAAqB;QAC9C,MAAMM,EAAE,GAAGJ,IAAI,CAACC,KAAL,CAAWH,OAAO,CAACI,WAAnB,CAAX;QACA,MAAMG,WAAW,GAAGV,MAAM,CAACH,KAAP,CAAac,IAAb,CAAkBF,EAAlB,CAApB;QACAC,WAAW,CAACE,MAAZ,CAAmB;UAACC,SAAS,EAAE,CAACH,WAAW,CAACG;QAAzB,CAAnB;MACH,CAJD;IAKH;;EAnBqB,CAAD,CAAzB;EAqBA,OAAOlB,MAAP;AACH,CAvBM"},"metadata":{},"sourceType":"module"}